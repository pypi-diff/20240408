# Comparing `tmp/odoo_addon_webservice-16.0.1.1.0.2-py3-none-any.whl.zip` & `tmp/odoo_addon_webservice-16.0.1.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,27 +1,27 @@
-Zip file size: 31078 bytes, number of entries: 25
--rw-r--r--  2.0 unx     3007 b- defN 24-Feb-09 06:58 odoo/addons/webservice/README.rst
--rw-r--r--  2.0 unx       46 b- defN 24-Feb-09 06:58 odoo/addons/webservice/__init__.py
--rw-r--r--  2.0 unx      749 b- defN 24-Feb-09 06:58 odoo/addons/webservice/__manifest__.py
--rw-r--r--  2.0 unx       57 b- defN 24-Feb-09 06:58 odoo/addons/webservice/components/__init__.py
--rw-r--r--  2.0 unx      700 b- defN 24-Feb-09 06:58 odoo/addons/webservice/components/base_adapter.py
--rw-r--r--  2.0 unx     2501 b- defN 24-Feb-09 06:58 odoo/addons/webservice/components/request_adapter.py
--rw-r--r--  2.0 unx     7846 b- defN 24-Feb-09 06:58 odoo/addons/webservice/i18n/fr.po
--rw-r--r--  2.0 unx     8734 b- defN 24-Feb-09 06:58 odoo/addons/webservice/i18n/it.po
--rw-r--r--  2.0 unx     7494 b- defN 24-Feb-09 06:58 odoo/addons/webservice/i18n/webservice.pot
--rw-r--r--  2.0 unx       33 b- defN 24-Feb-09 06:58 odoo/addons/webservice/models/__init__.py
--rw-r--r--  2.0 unx     3460 b- defN 24-Feb-09 06:58 odoo/addons/webservice/models/webservice_backend.py
--rw-r--r--  2.0 unx       41 b- defN 24-Feb-09 06:58 odoo/addons/webservice/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       62 b- defN 24-Feb-09 06:58 odoo/addons/webservice/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      183 b- defN 24-Feb-09 06:58 odoo/addons/webservice/security/ir.model.access.csv
--rw-r--r--  2.0 unx      416 b- defN 24-Feb-09 06:58 odoo/addons/webservice/security/ir_rule.xml
--rw-r--r--  2.0 unx     9455 b- defN 24-Feb-09 06:58 odoo/addons/webservice/static/description/icon.png
--rw-r--r--  2.0 unx    12287 b- defN 24-Feb-09 06:58 odoo/addons/webservice/static/description/index.html
--rw-r--r--  2.0 unx       30 b- defN 24-Feb-09 06:58 odoo/addons/webservice/tests/__init__.py
--rw-r--r--  2.0 unx      738 b- defN 24-Feb-09 06:58 odoo/addons/webservice/tests/common.py
--rw-r--r--  2.0 unx     7375 b- defN 24-Feb-09 06:58 odoo/addons/webservice/tests/test_webservice.py
--rw-r--r--  2.0 unx     4546 b- defN 24-Feb-09 06:58 odoo/addons/webservice/views/webservice_backend.xml
--rw-r--r--  2.0 unx     3757 b- defN 24-Feb-09 06:59 odoo_addon_webservice-16.0.1.1.0.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Feb-09 06:59 odoo_addon_webservice-16.0.1.1.0.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 24-Feb-09 06:59 odoo_addon_webservice-16.0.1.1.0.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2476 b- defN 24-Feb-09 06:59 odoo_addon_webservice-16.0.1.1.0.2.dist-info/RECORD
-25 files, 76090 bytes uncompressed, 26904 bytes compressed:  64.6%
+Zip file size: 31182 bytes, number of entries: 25
+-rw-r--r--  2.0 unx     3007 b- defN 24-Apr-08 16:34 odoo/addons/webservice/README.rst
+-rw-r--r--  2.0 unx       46 b- defN 24-Apr-08 16:34 odoo/addons/webservice/__init__.py
+-rw-r--r--  2.0 unx      749 b- defN 24-Apr-08 16:34 odoo/addons/webservice/__manifest__.py
+-rw-r--r--  2.0 unx       57 b- defN 24-Apr-08 16:34 odoo/addons/webservice/components/__init__.py
+-rw-r--r--  2.0 unx      700 b- defN 24-Apr-08 16:34 odoo/addons/webservice/components/base_adapter.py
+-rw-r--r--  2.0 unx     2723 b- defN 24-Apr-08 16:34 odoo/addons/webservice/components/request_adapter.py
+-rw-r--r--  2.0 unx     7846 b- defN 24-Apr-08 16:34 odoo/addons/webservice/i18n/fr.po
+-rw-r--r--  2.0 unx     8734 b- defN 24-Apr-08 16:34 odoo/addons/webservice/i18n/it.po
+-rw-r--r--  2.0 unx     7494 b- defN 24-Apr-08 16:34 odoo/addons/webservice/i18n/webservice.pot
+-rw-r--r--  2.0 unx       33 b- defN 24-Apr-08 16:34 odoo/addons/webservice/models/__init__.py
+-rw-r--r--  2.0 unx     3460 b- defN 24-Apr-08 16:34 odoo/addons/webservice/models/webservice_backend.py
+-rw-r--r--  2.0 unx       41 b- defN 24-Apr-08 16:34 odoo/addons/webservice/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       62 b- defN 24-Apr-08 16:34 odoo/addons/webservice/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      183 b- defN 24-Apr-08 16:34 odoo/addons/webservice/security/ir.model.access.csv
+-rw-r--r--  2.0 unx      416 b- defN 24-Apr-08 16:34 odoo/addons/webservice/security/ir_rule.xml
+-rw-r--r--  2.0 unx     9455 b- defN 24-Apr-08 16:34 odoo/addons/webservice/static/description/icon.png
+-rw-r--r--  2.0 unx    12287 b- defN 24-Apr-08 16:34 odoo/addons/webservice/static/description/index.html
+-rw-r--r--  2.0 unx       30 b- defN 24-Apr-08 16:34 odoo/addons/webservice/tests/__init__.py
+-rw-r--r--  2.0 unx      738 b- defN 24-Apr-08 16:34 odoo/addons/webservice/tests/common.py
+-rw-r--r--  2.0 unx     8293 b- defN 24-Apr-08 16:34 odoo/addons/webservice/tests/test_webservice.py
+-rw-r--r--  2.0 unx     4546 b- defN 24-Apr-08 16:34 odoo/addons/webservice/views/webservice_backend.xml
+-rw-r--r--  2.0 unx     3755 b- defN 24-Apr-08 16:34 odoo_addon_webservice-16.0.1.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-08 16:34 odoo_addon_webservice-16.0.1.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 24-Apr-08 16:34 odoo_addon_webservice-16.0.1.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2468 b- defN 24-Apr-08 16:34 odoo_addon_webservice-16.0.1.2.0.dist-info/RECORD
+25 files, 77220 bytes uncompressed, 27024 bytes compressed:  65.0%
```

## zipnote {}

```diff
@@ -57,20 +57,20 @@
 
 Filename: odoo/addons/webservice/tests/test_webservice.py
 Comment: 
 
 Filename: odoo/addons/webservice/views/webservice_backend.xml
 Comment: 
 
-Filename: odoo_addon_webservice-16.0.1.1.0.2.dist-info/METADATA
+Filename: odoo_addon_webservice-16.0.1.2.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_webservice-16.0.1.1.0.2.dist-info/WHEEL
+Filename: odoo_addon_webservice-16.0.1.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_webservice-16.0.1.1.0.2.dist-info/top_level.txt
+Filename: odoo_addon_webservice-16.0.1.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_webservice-16.0.1.1.0.2.dist-info/RECORD
+Filename: odoo_addon_webservice-16.0.1.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/webservice/README.rst

```diff
@@ -3,15 +3,15 @@
 ==========
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:303644ddb310b8c13e53c0cec4ea4f665b2ebb8a86b0c17bae78968c38633f4b
+   !! source digest: sha256:c507ac3d223fcff3d1e2326f1bc4f9545c332e0adc575150a75a0dbdad6b6de8
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png
     :target: https://odoo-community.org/page/development-status
     :alt: Production/Stable
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
```

## odoo/addons/webservice/__manifest__.py

```diff
@@ -4,15 +4,15 @@
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 
 {
     "name": "WebService",
     "summary": """
         Defines webservice abstract definition to be used generally""",
-    "version": "16.0.1.1.0",
+    "version": "16.0.1.2.0",
     "license": "AGPL-3",
     "development_status": "Production/Stable",
     "maintainers": ["etobella"],
     "author": "Creu Blanca, Camptocamp, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/web-api",
     "depends": ["component", "server_environment"],
     "data": [
```

## odoo/addons/webservice/components/request_adapter.py

```diff
@@ -61,12 +61,18 @@
         return result
 
     def _get_headers_for_api_key(self, **kw):
         return {self.collection.api_key_header: self.collection.api_key}
 
     def _get_url(self, url=None, url_params=None, **kwargs):
         if not url:
-            # TODO: if url is given, we should validate the domain
-            # to avoid abusing a webservice backend for different calls.
             url = self.collection.url
+        elif not url.startswith(self.collection.url):
+            if not url.startswith("http"):
+                url = f"{self.collection.url.rstrip('/')}/{url.lstrip('/')}"
+            else:
+                # TODO: if url is given, we should validate the domain
+                # to avoid abusing a webservice backend for different calls.
+                pass
+
         url_params = url_params or kwargs
         return url.format(**url_params)
```

## odoo/addons/webservice/static/description/index.html

```diff
@@ -362,15 +362,15 @@
 <div class="document" id="webservice">
 <h1 class="title">WebService</h1>
 
 <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 !! This file is generated by oca-gen-addon-readme !!
 !! changes will be overwritten.                   !!
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-!! source digest: sha256:303644ddb310b8c13e53c0cec4ea4f665b2ebb8a86b0c17bae78968c38633f4b
+!! source digest: sha256:c507ac3d223fcff3d1e2326f1bc4f9545c332e0adc575150a75a0dbdad6b6de8
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
 <p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Production/Stable" src="https://img.shields.io/badge/maturity-Production%2FStable-green.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/web-api/tree/16.0/webservice"><img alt="OCA/web-api" src="https://img.shields.io/badge/github-OCA%2Fweb--api-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/web-api-16-0/web-api-16-0-webservice"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/web-api&amp;target_branch=16.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
 <p>This module creates WebService frameworks to be used globally</p>
 <p><strong>Table of contents</strong></p>
 <div class="contents local topic" id="contents">
 <ul class="simple">
 <li><a class="reference internal" href="#bug-tracker" id="toc-entry-1">Bug Tracker</a></li>
```

## odoo/addons/webservice/tests/test_webservice.py

```diff
@@ -85,14 +85,36 @@
         self.assertEqual(result, b"{}")
         self.assertEqual(len(responses.calls), 1)
         self.assertEqual(
             responses.calls[0].request.headers["Content-Type"], "application/xml"
         )
 
     @responses.activate
+    def test_web_service_get_url_combine(self):
+        endpoint = "api/test"
+        responses.add(responses.GET, self.url + endpoint, body="{}")
+        result = self.webservice.call("get", url="api/test")
+        self.assertEqual(result, b"{}")
+        self.assertEqual(len(responses.calls), 1)
+        self.assertEqual(
+            responses.calls[0].request.headers["Content-Type"], "application/xml"
+        )
+
+    @responses.activate
+    def test_web_service_get_url_combine_full_url(self):
+        endpoint = "api/test"
+        responses.add(responses.GET, self.url + endpoint, body="{}")
+        result = self.webservice.call("get", url="http://localhost.demo.odoo/api/test")
+        self.assertEqual(result, b"{}")
+        self.assertEqual(len(responses.calls), 1)
+        self.assertEqual(
+            responses.calls[0].request.headers["Content-Type"], "application/xml"
+        )
+
+    @responses.activate
     def test_web_service_post(self):
         responses.add(responses.POST, self.url, body="{}")
         result = self.webservice.call("post", data="demo_response")
         self.assertEqual(result, b"{}")
         self.assertEqual(
             responses.calls[0].request.headers["Content-Type"], "application/xml"
         )
```

## Comparing `odoo_addon_webservice-16.0.1.1.0.2.dist-info/METADATA` & `odoo_addon_webservice-16.0.1.2.0.dist-info/METADATA`

 * *Files 13% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-webservice
-Version: 16.0.1.1.0.2
+Version: 16.0.1.2.0
 Summary: Defines webservice abstract definition to be used generally
 Home-page: https://github.com/OCA/web-api
 Author: Creu Blanca, Camptocamp, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -22,15 +22,15 @@
 ==========
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:303644ddb310b8c13e53c0cec4ea4f665b2ebb8a86b0c17bae78968c38633f4b
+   !! source digest: sha256:c507ac3d223fcff3d1e2326f1bc4f9545c332e0adc575150a75a0dbdad6b6de8
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png
     :target: https://odoo-community.org/page/development-status
     :alt: Production/Stable
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
```

## Comparing `odoo_addon_webservice-16.0.1.1.0.2.dist-info/RECORD` & `odoo_addon_webservice-16.0.1.2.0.dist-info/RECORD`

 * *Files 15% similar despite different names*

```diff
@@ -1,25 +1,25 @@
-odoo/addons/webservice/README.rst,sha256=gCz0f8JGKV3Vru_RCMUb2AO-IwqSFyNYEURBVr1njKo,3007
+odoo/addons/webservice/README.rst,sha256=kEOzcj7ZoeOvVgn6LEAYFfaJFGuOMQHHTGQV-FRjHWY,3007
 odoo/addons/webservice/__init__.py,sha256=KoGIwmS8gsnjpouQ6mpx2hUudXGZnCnD6Z2bcVxce5s,46
-odoo/addons/webservice/__manifest__.py,sha256=gLlCi8KOM7LnOksUOmp2FzyxdVsFGEGD6ewbmP2Rlfc,749
+odoo/addons/webservice/__manifest__.py,sha256=VMLxXayOQuwg22SZxanwSKMa-MeSvIWENQ-nVSiq_Hs,749
 odoo/addons/webservice/components/__init__.py,sha256=wpgoByWAKuaX-zC_H2QeU6np00QSlzOvMyOd7V9F7aA,57
 odoo/addons/webservice/components/base_adapter.py,sha256=06sCzORzLWWACk5zaaMq9zVeinLD9cMS3IT3skBPbZQ,700
-odoo/addons/webservice/components/request_adapter.py,sha256=JB0XdQ-RPoYwAi9Og5dp0o67bpJAvVvZhUd_PhSgS4c,2501
+odoo/addons/webservice/components/request_adapter.py,sha256=QxvsEmjS3pNSsEwcA7lgBlE9GOYCUq9kUM2qiJwOqX8,2723
 odoo/addons/webservice/i18n/fr.po,sha256=kQ5Xdi_5jc5TRLkvs2WzEp7QRTnYXhE6eFttyx3eMug,7846
 odoo/addons/webservice/i18n/it.po,sha256=LZm9lebSYTBXy_vMcLyT4zhKqLqzrs4IoSu03DzzCe8,8734
 odoo/addons/webservice/i18n/webservice.pot,sha256=gRAwqHnf6DJpQPD-Tk5OzFR_J2mDabbFlAN7M2ebkhM,7494
 odoo/addons/webservice/models/__init__.py,sha256=vPMRJ-Sh3KP9faRztRkl72StEP3abYutbrunzQZe_hk,33
 odoo/addons/webservice/models/webservice_backend.py,sha256=MahF8P8mvEcmk_rvVO95hT5DuvWLH9t0dhBGwn5gVuo,3460
 odoo/addons/webservice/readme/CONTRIBUTORS.rst,sha256=okC5oUytz6l8wtkSnOgx_v81TJU3bDNcExRpiEuD0dM,41
 odoo/addons/webservice/readme/DESCRIPTION.rst,sha256=Ez74ZQ4Hmq20wmdh3qjaYS6PhSnqbne8f0a5qytO8YQ,62
 odoo/addons/webservice/security/ir.model.access.csv,sha256=_YxINe4XvH5i2E8_u-iKX_gzV8I4fDs96VL7FkPy_0A,183
 odoo/addons/webservice/security/ir_rule.xml,sha256=zczERMKDxZ6xHjMaqrPvOHZaFZxIPyO7DjREsP2Un9Y,416
 odoo/addons/webservice/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/webservice/static/description/index.html,sha256=1jFhza-1_BrhcQYBn2AayQCAo0_KvTWoAo_BlXrWZ2I,12287
+odoo/addons/webservice/static/description/index.html,sha256=Q53dpKfNHO8kH4lN7XHllXABLB3eCijHO-7qSQiK41Y,12287
 odoo/addons/webservice/tests/__init__.py,sha256=cfdHfl1a3k7ilIvk8jfJSQrWCED9ocKyLf2w_z_ycgk,30
 odoo/addons/webservice/tests/common.py,sha256=VGec0Lq6VEWGm6JbytB45C2Xk9yqt9WOpU4gOvdmqtA,738
-odoo/addons/webservice/tests/test_webservice.py,sha256=VuwNbh6n-IQnqdCxuObpsy8Lg3PURRBInZv2ZeJrZtw,7375
+odoo/addons/webservice/tests/test_webservice.py,sha256=pInNb2ORwkSBC0wpHFcrmZj2kr9NjYwyuPnNqqZPNA4,8293
 odoo/addons/webservice/views/webservice_backend.xml,sha256=4hwWq_ZP6uhl5FfTB8DkV8yZ4iQfazywEFG5j3ERkVo,4546
-odoo_addon_webservice-16.0.1.1.0.2.dist-info/METADATA,sha256=yfEn_RF0B4IIDyczSualb2kA8AnJ1EAonXmWTXigIAE,3757
-odoo_addon_webservice-16.0.1.1.0.2.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
-odoo_addon_webservice-16.0.1.1.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_webservice-16.0.1.1.0.2.dist-info/RECORD,,
+odoo_addon_webservice-16.0.1.2.0.dist-info/METADATA,sha256=l_f1dTaPq3C2aME6X7IW09KdXnlRzXjfrFKR3C7xPMg,3755
+odoo_addon_webservice-16.0.1.2.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+odoo_addon_webservice-16.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_webservice-16.0.1.2.0.dist-info/RECORD,,
```

